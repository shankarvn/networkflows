!function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)n.d(e,i,(function(r){return t[r]}).bind(null,i));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s="+mPP")}({"+mPP":function(t,r,n){"use strict";function e(t,r,n,e){if(isNaN(r)||isNaN(n))return t;var i,s,o,u,c,h,a,l,f,p=t._root,d={data:e},y=t._x0,b=t._y0,_=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((h=r>=(s=(y+_)/2))?y=s:_=s,(a=n>=(o=(b+v)/2))?b=o:v=o,i=p,!(p=p[l=a<<1|h]))return i[l]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),r===u&&n===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(h=r>=(s=(y+_)/2))?y=s:_=s,(a=n>=(o=(b+v)/2))?b=o:v=o}while((l=a<<1|h)==(f=(c>=o)<<1|u>=s));return i[f]=p,i[l]=d,t}n.r(r);var i=function(t,r,n,e,i){this.node=t,this.x0=r,this.y0=n,this.x1=e,this.y1=i};function s(t){return t[0]}function o(t){return t[1]}function u(t,r,n){var e=new c(null==r?s:r,null==n?o:n,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function c(t,r,n,e,i,s){this._x=t,this._y=r,this._x0=n,this._y0=e,this._x1=i,this._y1=s,this._root=void 0}function h(t){for(var r={data:t.data},n=r;t=t.next;)n=n.next={data:t.data};return r}var a=u.prototype=c.prototype;a.copy=function(){var t,r,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return n;if(!e.length)return n._root=h(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?t.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=h(r));return n},a.add=function(t){var r=+this._x.call(null,t),n=+this._y.call(null,t);return e(this.cover(r,n),r,n,t)},a.addAll=function(t){var r,n,i,s,o=t.length,u=new Array(o),c=new Array(o),h=1/0,a=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,r=t[n]))||isNaN(s=+this._y.call(null,r))||(u[n]=i,c[n]=s,i<h&&(h=i),i>l&&(l=i),s<a&&(a=s),s>f&&(f=s));if(h>l||a>f)return this;for(this.cover(h,a).cover(l,f),n=0;n<o;++n)e(this,u[n],c[n],t[n]);return this},a.cover=function(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,e=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(e=Math.floor(r))+1;else{for(var o,u,c=i-n,h=this._root;n>t||t>=i||e>r||r>=s;)switch(u=(r<e)<<1|t<n,(o=new Array(4))[u]=h,h=o,c*=2,u){case 0:i=n+c,s=e+c;break;case 1:n=i-c,s=e+c;break;case 2:i=n+c,e=s-c;break;case 3:n=i-c,e=s-c}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=e,this._x1=i,this._y1=s,this},a.data=function(){var t=[];return this.visit((function(r){if(!r.length)do{t.push(r.data)}while(r=r.next)})),t},a.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},a.find=function(t,r,n){var e,s,o,u,c,h,a,l=this._x0,f=this._y0,p=this._x1,d=this._y1,y=[],b=this._root;for(b&&y.push(new i(b,l,f,p,d)),null==n?n=1/0:(l=t-n,f=r-n,p=t+n,d=r+n,n*=n);h=y.pop();)if(!(!(b=h.node)||(s=h.x0)>p||(o=h.y0)>d||(u=h.x1)<l||(c=h.y1)<f))if(b.length){var _=(s+u)/2,v=(o+c)/2;y.push(new i(b[3],_,v,u,c),new i(b[2],s,v,_,c),new i(b[1],_,o,u,v),new i(b[0],s,o,_,v)),(a=(r>=v)<<1|t>=_)&&(h=y[y.length-1],y[y.length-1]=y[y.length-1-a],y[y.length-1-a]=h)}else{var x=t-+this._x.call(null,b.data),g=r-+this._y.call(null,b.data),w=x*x+g*g;if(w<n){var m=Math.sqrt(n=w);l=t-m,f=r-m,p=t+m,d=r+m,e=b.data}}return e},a.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var r,n,e,i,s,o,u,c,h,a,l,f,p=this._root,d=this._x0,y=this._y0,b=this._x1,_=this._y1;if(!p)return this;if(p.length)for(;;){if((h=s>=(u=(d+b)/2))?d=u:b=u,(a=o>=(c=(y+_)/2))?y=c:_=c,r=p,!(p=p[l=a<<1|h]))return this;if(!p.length)break;(r[l+1&3]||r[l+2&3]||r[l+3&3])&&(n=r,f=l)}for(;p.data!==t;)if(e=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,e?(i?e.next=i:delete e.next,this):r?(i?r[l]=i:delete r[l],(p=r[0]||r[1]||r[2]||r[3])&&p===(r[3]||r[2]||r[1]||r[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},a.removeAll=function(t){for(var r=0,n=t.length;r<n;++r)this.remove(t[r]);return this},a.root=function(){return this._root},a.size=function(){var t=0;return this.visit((function(r){if(!r.length)do{++t}while(r=r.next)})),t},a.visit=function(t){var r,n,e,s,o,u,c=[],h=this._root;for(h&&c.push(new i(h,this._x0,this._y0,this._x1,this._y1));r=c.pop();)if(!t(h=r.node,e=r.x0,s=r.y0,o=r.x1,u=r.y1)&&h.length){var a=(e+o)/2,l=(s+u)/2;(n=h[3])&&c.push(new i(n,a,l,o,u)),(n=h[2])&&c.push(new i(n,e,l,a,u)),(n=h[1])&&c.push(new i(n,a,s,o,l)),(n=h[0])&&c.push(new i(n,e,s,a,l))}return this},a.visitAfter=function(t){var r,n=[],e=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var s=r.node;if(s.length){var o,u=r.x0,c=r.y0,h=r.x1,a=r.y1,l=(u+h)/2,f=(c+a)/2;(o=s[0])&&n.push(new i(o,u,c,l,f)),(o=s[1])&&n.push(new i(o,l,c,h,f)),(o=s[2])&&n.push(new i(o,u,f,l,a)),(o=s[3])&&n.push(new i(o,l,f,h,a))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this},a.x=function(t){return arguments.length?(this._x=t,this):this._x},a.y=function(t){return arguments.length?(this._y=t,this):this._y};var l=function(t){return function(){return t}},f=function(){return 1e-6*(Math.random()-.5)};function p(t){return t.x+t.vx}function d(t){return t.y+t.vy}function y(t){return t.index}function b(t,r){var n=t.get(r);if(!n)throw new Error("missing: "+r);return n}var _={value:function(){}};function v(){for(var t,r=0,n=arguments.length,e={};r<n;++r){if(!(t=arguments[r]+"")||t in e)throw new Error("illegal type: "+t);e[t]=[]}return new x(e)}function x(t){this._=t}function g(t,r){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function w(t,r){for(var n,e=0,i=t.length;e<i;++e)if((n=t[e]).name===r)return n.value}function m(t,r,n){for(var e=0,i=t.length;e<i;++e)if(t[e].name===r){t[e]=_,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=n&&t.push({name:r,value:n}),t}x.prototype=v.prototype={constructor:x,on:function(t,r){var n,e=this._,i=g(t+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++s<o;)if(n=(t=i[s]).type)e[n]=m(e[n],t.name,r);else if(null==r)for(n in e)e[n]=m(e[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=w(e[n],t.name)))return n},copy:function(){var t={},r=this._;for(var n in r)t[n]=r[n].slice();return new x(t)},call:function(t,r){if((n=arguments.length-2)>0)for(var n,e,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(e=this._[t]).length;s<n;++s)e[s].value.apply(r,i)},apply:function(t,r,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,s=e.length;i<s;++i)e[i].value.apply(r,n)}};var E,S,M=v,N=0,T=0,A=0,O=1e3,P=0,j=0,k=0,D="object"==typeof performance&&performance.now?performance:Date,q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function H(){return j||(q(z),j=D.now()+k)}function z(){j=0}function U(){this._call=this._time=this._next=null}function I(t,r,n){var e=new U;return e.restart(t,r,n),e}function V(){j=(P=D.now())+k,N=T=0;try{!function(){H(),++N;for(var t,r=E;r;)(t=j-r._time)>=0&&r._call.call(null,t),r=r._next;--N}()}finally{N=0,function(){for(var t,r,n=E,e=1/0;n;)n._call?(e>n._time&&(e=n._time),t=n,n=n._next):(r=n._next,n._next=null,n=t?t._next=r:E=r);S=t,R(e)}(),j=0}}function Y(){var t=D.now(),r=t-P;r>O&&(k-=r,P=t)}function R(t){N||(T&&(T=clearTimeout(T)),t-j>24?(t<1/0&&(T=setTimeout(V,t-D.now()-k)),A&&(A=clearInterval(A))):(A||(P=D.now(),A=setInterval(Y,O)),N=1,q(V)))}function $(t){return t.x}function C(t){return t.y}U.prototype=I.prototype={constructor:U,restart:function(t,r,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?H():+n)+(null==r?0:+r),this._next||S===this||(S?S._next=this:E=this,S=this),this._call=t,this._time=n,R()},stop:function(){this._call&&(this._call=null,this._time=1/0,R())}};var F=10,J=Math.PI*(3-Math.sqrt(5));function L(t){return"function"==typeof t}let B=!1;const G={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else B&&console.log("RxJS: Back to a better error behavior. Thank you. <3");B=t},get useDeprecatedSynchronousErrorHandling(){return B}};function K(t){setTimeout(()=>{throw t})}const Q={closed:!0,next(t){},error(t){if(G.useDeprecatedSynchronousErrorHandling)throw t;K(t)},complete(){}},W=Array.isArray||(t=>t&&"number"==typeof t.length);function X(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}X.prototype=Object.create(Error.prototype);const Z=X;let tt=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,r=!1;if(this.closed)return;let{_parent:n,_parents:e,_unsubscribe:i,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,u=e?e.length:0;for(;n;)n.remove(this),n=++o<u&&e[o]||null;if(L(i))try{i.call(this)}catch(h){r=!0,t=h instanceof Z?rt(h.errors):[h]}if(W(s))for(o=-1,u=s.length;++o<u;){const n=s[o];if(null!==(c=n)&&"object"==typeof c)try{n.unsubscribe()}catch(h){r=!0,t=t||[],h instanceof Z?t=t.concat(rt(h.errors)):t.push(h)}}var c;if(r)throw new Z(t)}add(r){let n=r;switch(typeof r){case"function":n=new t(r);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const r=n;(n=new t)._subscriptions=[r]}break;default:if(!r)return t.EMPTY;throw new Error("unrecognized teardown "+r+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const r=this._subscriptions;if(r){const n=r.indexOf(t);-1!==n&&r.splice(n,1)}}_addParent(t){let{_parent:r,_parents:n}=this;return r!==t&&(r?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function rt(t){return t.reduce((t,r)=>t.concat(r instanceof Z?r.errors:r),[])}const nt="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class et extends tt{constructor(t,r,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q;break;case 1:if(!t){this.destination=Q;break}if("object"==typeof t){t instanceof et?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new it(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new it(this,t,r,n)}}[nt](){return this}static create(t,r,n){const e=new et(t,r,n);return e.syncErrorThrowable=!1,e}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:r}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=r,this}}class it extends et{constructor(t,r,n,e){let i;super(),this._parentSubscriber=t;let s=this;L(r)?i=r:r&&(i=r.next,n=r.error,e=r.complete,r!==Q&&(L((s=Object.create(r)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=e}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;G.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:n}=G;if(this._error)n&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)n?(r.syncErrorValue=t,r.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;K(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const r=()=>this._complete.call(this._context);G.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,r){try{t.call(this._context,r)}catch(n){if(this.unsubscribe(),G.useDeprecatedSynchronousErrorHandling)throw n;K(n)}}__tryOrSetError(t,r,n){if(!G.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,n)}catch(e){return G.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(K(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const st="function"==typeof Symbol&&Symbol.observable||"@@observable";function ot(){}let ut=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(r){const n=new t;return n.source=this,n.operator=r,n}subscribe(t,r,n){const{operator:e}=this,i=function(t,r,n){if(t){if(t instanceof et)return t;if(t[nt])return t[nt]()}return t||r||n?new et(t,r,n):new et(Q)}(t,r,n);if(i.add(e?e.call(i,this.source):this.source||G.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),G.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){G.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(t){for(;t;){const{closed:r,destination:n,isStopped:e}=t;if(r||e)return!1;t=n&&n instanceof et?n:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=ct(r))((r,n)=>{let e;e=this.subscribe(r=>{try{t(r)}catch(i){n(i),e&&e.unsubscribe()}},n,r)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[st](){return this}pipe(...t){return 0===t.length?this:((r=t)?1===r.length?r[0]:function(t){return r.reduce((t,r)=>r(t),t)}:ot)(this);var r}toPromise(t){return new(t=ct(t))((t,r)=>{let n;this.subscribe(t=>n=t,t=>r(t),()=>t(n))})}}return t.create=r=>new t(r),t})();function ct(t){if(t||(t=G.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function ht(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}ht.prototype=Object.create(Error.prototype);const at=ht;class lt extends tt{constructor(t,r){super(),this.subject=t,this.subscriber=r,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,r=t.observers;if(this.subject=null,!r||0===r.length||t.isStopped||t.closed)return;const n=r.indexOf(this.subscriber);-1!==n&&r.splice(n,1)}}class ft extends et{constructor(t){super(t),this.destination=t}}let pt=(()=>{class t extends ut{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[nt](){return new ft(this)}lift(t){const r=new dt(this,this);return r.operator=t,r}next(t){if(this.closed)throw new at;if(!this.isStopped){const{observers:r}=this,n=r.length,e=r.slice();for(let i=0;i<n;i++)e[i].next(t)}}error(t){if(this.closed)throw new at;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,n=r.length,e=r.slice();for(let i=0;i<n;i++)e[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new at;this.isStopped=!0;const{observers:t}=this,r=t.length,n=t.slice();for(let e=0;e<r;e++)n[e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new at;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new at;return this.hasError?(t.error(this.thrownError),tt.EMPTY):this.isStopped?(t.complete(),tt.EMPTY):(this.observers.push(t),new lt(this,t))}asObservable(){const t=new ut;return t.source=this,t}}return t.create=(t,r)=>new dt(t,r),t})();class dt extends pt{constructor(t,r){super(),this.destination=t,this.source=r}next(t){const{destination:r}=this;r&&r.next&&r.next(t)}error(t){const{destination:r}=this;r&&r.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:r}=this;return r?this.source.subscribe(t):tt.EMPTY}}(new class{constructor(){this.handleIncomingMessages()}handleMessages(t){this.handler=t}handleIncomingMessages(){self.addEventListener("message",t=>{const r=t.data;this.handler&&this.handler.apply(this,[r.userData]).subscribe(t=>{const n=Object.assign({},r,{__messageType:"DATA",userData:t});self.postMessage(n)},t=>{throw new Error(t)},()=>{const t=Object.assign({},r,{__messageType:"COMPLETE"});self.postMessage(t)})})}}).handleMessages(t=>{const r=new pt;return function(t,r){setTimeout(()=>{const n=function(t){var r,n=1,e=.001,i=1-Math.pow(e,1/300),s=0,o=.6,u=new Map,c=I(a),h=M("tick","end");function a(){l(),h.call("tick",r),n<e&&(c.stop(),h.call("end",r))}function l(e){var c,h,a=t.length;void 0===e&&(e=1);for(var l=0;l<e;++l)for(n+=(s-n)*i,u.forEach((function(t){t(n)})),c=0;c<a;++c)null==(h=t[c]).fx?h.x+=h.vx*=o:(h.x=h.fx,h.vx=0),null==h.fy?h.y+=h.vy*=o:(h.y=h.fy,h.vy=0);return r}function f(){for(var r,n=0,e=t.length;n<e;++n){if((r=t[n]).index=n,null!=r.fx&&(r.x=r.fx),null!=r.fy&&(r.y=r.fy),isNaN(r.x)||isNaN(r.y)){var i=F*Math.sqrt(n),s=n*J;r.x=i*Math.cos(s),r.y=i*Math.sin(s)}(isNaN(r.vx)||isNaN(r.vy))&&(r.vx=r.vy=0)}}function p(r){return r.initialize&&r.initialize(t),r}return null==t&&(t=[]),f(),r={tick:l,restart:function(){return c.restart(a),r},stop:function(){return c.stop(),r},nodes:function(n){return arguments.length?(t=n,f(),u.forEach(p),r):t},alpha:function(t){return arguments.length?(n=+t,r):n},alphaMin:function(t){return arguments.length?(e=+t,r):e},alphaDecay:function(t){return arguments.length?(i=+t,r):+i},alphaTarget:function(t){return arguments.length?(s=+t,r):s},velocityDecay:function(t){return arguments.length?(o=1-t,r):1-o},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,p(n)),r):u.get(t)},find:function(r,n,e){var i,s,o,u,c,h=0,a=t.length;for(null==e?e=1/0:e*=e,h=0;h<a;++h)(o=(i=r-(u=t[h]).x)*i+(s=n-u.y)*s)<e&&(c=u,e=o);return c},on:function(t,n){return arguments.length>1?(h.on(t,n),r):h.on(t)}}}(r.nodes).force("link",function(t){var r,n,e,i,s,o=y,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=l(30),h=1;function a(e){for(var i=0,o=t.length;i<h;++i)for(var u,c,a,l,p,d,y,b=0;b<o;++b)l=(a=(u=t[b]).target).x+a.vx-(c=u.source).x-c.vx||f(),p=a.y+a.vy-c.y-c.vy||f(),p*=d=((d=Math.sqrt(l*l+p*p))-n[b])/d*e*r[b],a.vx-=(l*=d)*(y=s[b]),a.vy-=p*y,c.vx+=l*(y=1-y),c.vy+=p*y}function p(){if(e){var u,c,h=e.length,a=t.length,l=new Map(e.map((t,r)=>[o(t,r,e),t]));for(u=0,i=new Array(h);u<a;++u)(c=t[u]).index=u,"object"!=typeof c.source&&(c.source=b(l,c.source)),"object"!=typeof c.target&&(c.target=b(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,s=new Array(a);u<a;++u)s[u]=i[(c=t[u]).source.index]/(i[c.source.index]+i[c.target.index]);r=new Array(a),d(),n=new Array(a),_()}}function d(){if(e)for(var n=0,i=t.length;n<i;++n)r[n]=+u(t[n],n,t)}function _(){if(e)for(var r=0,i=t.length;r<i;++r)n[r]=+c(t[r],r,t)}return null==t&&(t=[]),a.initialize=function(t){e=t,p()},a.links=function(r){return arguments.length?(t=r,p(),a):t},a.id=function(t){return arguments.length?(o=t,a):o},a.iterations=function(t){return arguments.length?(h=+t,a):h},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:l(+t),d(),a):u},a.distance=function(t){return arguments.length?(c="function"==typeof t?t:l(+t),_(),a):c},a}(r.links).id(t=>t.id.toString()).distance(0).strength(1)).force("charge",function(){var t,r,n,e,i=l(-30),s=1,o=1/0,c=.81;function h(e){var i,s=t.length,o=u(t,$,C).visitAfter(p);for(n=e,i=0;i<s;++i)r=t[i],o.visit(d)}function a(){if(t){var r,n,s=t.length;for(e=new Array(s),r=0;r<s;++r)e[(n=t[r]).index]=+i(n,r,t)}}function p(t){var r,n,i,s,o,u=0,c=0;if(t.length){for(i=s=o=0;o<4;++o)(r=t[o])&&(n=Math.abs(r.value))&&(u+=r.value,c+=n,i+=n*r.x,s+=n*r.y);t.x=i/c,t.y=s/c}else{(r=t).x=r.data.x,r.y=r.data.y;do{u+=e[r.data.index]}while(r=r.next)}t.value=u}function d(t,i,u,h){if(!t.value)return!0;var a=t.x-r.x,l=t.y-r.y,p=h-i,d=a*a+l*l;if(p*p/c<d)return d<o&&(0===a&&(d+=(a=f())*a),0===l&&(d+=(l=f())*l),d<s&&(d=Math.sqrt(s*d)),r.vx+=a*t.value*n/d,r.vy+=l*t.value*n/d),!0;if(!(t.length||d>=o)){(t.data!==r||t.next)&&(0===a&&(d+=(a=f())*a),0===l&&(d+=(l=f())*l),d<s&&(d=Math.sqrt(s*d)));do{t.data!==r&&(r.vx+=a*(p=e[t.data.index]*n/d),r.vy+=l*p)}while(t=t.next)}}return h.initialize=function(r){t=r,a()},h.strength=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),a(),h):i},h.distanceMin=function(t){return arguments.length?(s=t*t,h):Math.sqrt(s)},h.distanceMax=function(t){return arguments.length?(o=t*t,h):Math.sqrt(o)},h.theta=function(t){return arguments.length?(c=t*t,h):Math.sqrt(c)},h}().strength(-40)).force("x",function(t){var r,n,e,i=l(.1);function s(t){for(var i,s=0,o=r.length;s<o;++s)(i=r[s]).vx+=(e[s]-i.x)*n[s]*t}function o(){if(r){var s,o=r.length;for(n=new Array(o),e=new Array(o),s=0;s<o;++s)n[s]=isNaN(e[s]=+t(r[s],s,r))?0:+i(r[s],s,r)}}return"function"!=typeof t&&(t=l(null==t?0:+t)),s.initialize=function(t){r=t,o()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),o(),s):i},s.x=function(r){return arguments.length?(t="function"==typeof r?r:l(+r),o(),s):t},s}()).force("y",function(t){var r,n,e,i=l(.1);function s(t){for(var i,s=0,o=r.length;s<o;++s)(i=r[s]).vy+=(e[s]-i.y)*n[s]*t}function o(){if(r){var s,o=r.length;for(n=new Array(o),e=new Array(o),s=0;s<o;++s)n[s]=isNaN(e[s]=+t(r[s],s,r))?0:+i(r[s],s,r)}}return"function"!=typeof t&&(t=l(null==t?0:+t)),s.initialize=function(t){r=t,o()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),o(),s):i},s.y=function(r){return arguments.length?(t="function"==typeof r?r:l(+r),o(),s):t},s}()).force("collide",function(t){var r,n,e=1,i=1;function s(){for(var t,s,c,h,a,l,y,b=r.length,_=0;_<i;++_)for(s=u(r,p,d).visitAfter(o),t=0;t<b;++t)y=(l=n[(c=r[t]).index])*l,h=c.x+c.vx,a=c.y+c.vy,s.visit(v);function v(t,r,n,i,s){var o=t.data,u=t.r,p=l+u;if(!o)return r>h+p||i<h-p||n>a+p||s<a-p;if(o.index>c.index){var d=h-o.x-o.vx,b=a-o.y-o.vy,_=d*d+b*b;_<p*p&&(0===d&&(_+=(d=f())*d),0===b&&(_+=(b=f())*b),_=(p-(_=Math.sqrt(_)))/_*e,c.vx+=(d*=_)*(p=(u*=u)/(y+u)),c.vy+=(b*=_)*p,o.vx-=d*(p=1-p),o.vy-=b*p)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var r=t.r=0;r<4;++r)t[r]&&t[r].r>t.r&&(t.r=t[r].r)}function c(){if(r){var e,i,s=r.length;for(n=new Array(s),e=0;e<s;++e)n[(i=r[e]).index]=+t(i,e,r)}}return"function"!=typeof t&&(t=l(null==t?1:+t)),s.initialize=function(t){r=t,c()},s.iterations=function(t){return arguments.length?(i=+t,s):i},s.strength=function(t){return arguments.length?(e=+t,s):e},s.radius=function(r){return arguments.length?(t="function"==typeof r?r:l(+r),c(),s):t},s}().radius(t=>t.r+3));for(let r=0,e=Math.ceil(Math.log(n.alphaMin())/Math.log(1-n.alphaDecay()));r<e;++r)t.next({nodes:[],links:[],progress:Math.round(r/e*100)}),n.tick();r.progress=100,t.next(r),console.log(r),t.complete()})}(r,t),r.asObservable()})}});